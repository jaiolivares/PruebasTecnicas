@page "/empresa"
@page "/empresa/{idEmpresaEditar:int}"

@code {
    [Parameter]
    public int idEmpresaEditar { get; set; } = 0;

    public CrudBlazor.Shared.Models.Empresa empresa = new();

    string titulo = string.Empty;
    string btnTexto = string.Empty;

    protected override void OnInitialized()
    {
        if (idEmpresaEditar > 0)
        {
            titulo = "Modificar Empresa";
            btnTexto = "Modificar";
        }
        else
        {
            titulo = "Nueva Empresa";
            btnTexto = "Crear";
        }
    }

    private void Guardar()
    {
        // Aquí iría la lógica para guardar la empresa
        // Por ejemplo, llamar a un servicio para guardar en la base de datos
        // Si es una nueva empresa, se podría hacer algo como:
        // await EmpresaService.CrearAsync(empresa);
        // Si es una modificación, se podría hacer algo como:
        // await EmpresaService.ModificarAsync(empresa);
        // Luego de guardar, podrías redirigir a la lista de empresas
        // navegacion.NavigateTo("/empresas");
    }


    // navegacion.NavigateTo("/empresas");

}

<h1>@titulo</h1>

<h2>...formulario...</h2>

<EditForm Model="@empresa" OnValidSubmit="Guardar">
    <div class="form-group">
        <label for="Nombre">Nombre</label>
        <input type="text" class="form-control" placeholder="Ingresa Nombre" />
    </div>
</EditForm>

<a href="empresas" class="btn btn-success">@btnTexto</a>
<a href="empresas" class="btn btn-warning">Volver</a>